"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeUtils=void 0;class Time{time;constructor(e){if(this.time=0,null==e)return this;if("number"==typeof e)return this.time=e,this;if("string"==typeof e){let t=e.match(/^(\+|\-|)(\d{2}|$)(\d{2}|$)(\d{2}|$)(\d{3}|$)/);return t||(t=e.match(/^(\+|\-|)(\d+)?(?::|時|$)(\d+)?(?::|分|$)(\d+)?(?:.|秒|$)(\d+)?(?:.*|$)/)),t&&(this.time=(36e5*Number(t[2]??"0")+6e4*Number(t[3]??"0")+1e3*Number(t[4]??"0")+Number(t[5]??"0"))*("-"===t[1]?-1:1)),this}return"number"==typeof e.time?(this.time=e.time,this):(this.time=(e.getTime()-6e4*e.getTimezoneOffset())%864e5,this)}format(e="-hh:mm:ss.SSS"){return e.replace("+-",this.time<0?"-":"+").replace("-",this.time<0?"-":"").replace("hh",`0${Math.abs(this.getHours())}`.slice(-2)).replace("h",String(Math.abs(this.getHours()))).replace("mm",`0${Math.abs(this.getMinutes())}`.slice(-2)).replace("m",String(Math.abs(this.getMinutes()))).replace("ss",`0${Math.abs(this.getSeconds())}`.slice(-2)).replace("s",String(Math.abs(this.getSeconds()))).replace("SSS",`00${Math.abs(this.getMilliseconds())}`.slice(-3)).replace("SS",`00${Math.abs(this.getMilliseconds())}`.slice(-3).slice(2)).replace("S",String(Math.abs(this.getMilliseconds())))}getTime(){return this.time}getHours(){return this.time<0?Math.ceil(this.time/36e5):Math.floor(this.time/36e5)}setHours(e,t,i,s){return this.time=Math.max(0,36e5*e+6e4*(t??this.getMinutes())+1e3*(i??this.getSeconds())+(s??this.getMilliseconds())),this}getMinutes(e){return e?this.time<0?Math.ceil(this.time/6e4):Math.floor(this.time/6e4):this.time<0?Math.ceil(this.time/6e4)%60:Math.floor(this.time/6e4)%60}setMinutes(e,t,i){return this.time=Math.max(0,36e5*this.getHours()+6e4*e+1e3*(t??this.getSeconds())+(i??this.getMilliseconds())),this}getSeconds(e){return e?this.time<0?Math.ceil(this.time/1e3):Math.floor(this.time/1e3):this.time<0?Math.ceil(this.time/1e3)%60:Math.floor(this.time/1e3)%60}setSeconds(e,t){return this.time=Math.max(0,6e4*this.getMinutes(!0)+1e3*e+(t??this.getMilliseconds())),this}getMilliseconds(e){return e?this.time:this.time%1e3}setMilliseconds(e){return this.time=1e3*this.getSeconds(!0)+Math.max(0,e),this}clear(){return this.time=0,this}getCopy(){return new Time(this)}addHours(e){return this.time=Math.max(0,this.time+36e5*e),this}addMinutes(e){return this.time=Math.max(0,this.time+6e4*e),this}addSeconds(e){return this.time=Math.max(0,this.time+1e3*e),this}addMilliseconds(e){return this.time=this.time+e,this}isPlus(){return this.time>=0}isMinus(){return this.time<0}}var TimeUtils;!function(e){e.max=(...e)=>{let t;return e.forEach((e=>{null!=e&&(t=null!=t?Math.max(t,e.getTime()):e.getTime())})),new Time(t)},e.min=(...e)=>{let t;return e.forEach((e=>{null!=e&&(t=null!=t?Math.min(t,e.getTime()):e.getTime())})),new Time(t)},e.average=(...t)=>{const i=e.adds(...t);return new Time(Math.round(i.getTime()/Math.max(1,t.length)))},e.add=(e,t)=>new Time(null==e?t:null==t?e:e.getTime()+t.getTime()),e.adds=(...e)=>{let t=0;return e.forEach((e=>{null!=e&&(t+=e.getTime())})),new Time(t)},e.minus=(e,t)=>new Time(null==e?-1*(t?.getTime()??0):null==t?e.getTime():e.getTime()-t.getTime()),e.validContext=(e,t)=>null==e||null==t||t.getTime()-e.getTime()>=0,e.convertMillisecondsToUnit=(e,t,i="round")=>{if(null==e)return;const s=t=>"ceil"===i?(e<0&&Math.floor(e/t),Math.ceil(e/t)):"floor"===i?(e<0&&Math.ceil(e/t),Math.floor(e/t)):Math.round(e/t);return"hour"===t?s(36e5):"minute"===t?s(6e4):"second"===t?s(1e3):e},e.convertUnitToMilliseconds=(e,t)=>{if(null!=e)return"hour"===t?36e5*e:"minute"===t?6e4*e:"second"===t?1e3*e:e},e.format=(e,t)=>new Time(e).format(t)}(TimeUtils=exports.TimeUtils||(exports.TimeUtils={})),exports.default=Time;